결국 우리 프로젝트의 흐름은 다음과 같아

**↓**

사용자와의 대화를 통하여 사용자의 프로필 수집

<<날짜: 8월 1일-3일 | 기간: 2박3일 | 여행 유형: 커플 | 관심사: 맛집, 액티비티 | 예산: 중간 | 여행지역>>

**↓**

수집한 프로필을 바탕으로 숙박, 관광, 음식, 행사 에이전트에게 프로필을 전송

**↓**

각각의 에이전트에는 Solar-pro llm이 존재하며 각각의 에이전트에 존재하는 다음과 같은 프롬포트를 통하여 벡터 DB 검색을 위한 쿼리를 생성

**↓**

숙박 LLM 프롬포트 : 너는 사용자의 프로필을 참고하여 벡터 DB에서 원하는 정보를 검색하기 위한 쿼리를 만드는 전문가야. 사용자의 프로필을 바탕으로 사용자가 원하는 숙박 장소를 벡터 DB에서 검색하기 위해 사용될 검색 쿼리를 한줄로 만들어줘.

관광 LLM 프롬포트 : 너는 사용자의 프로필을 참고하여 벡터 DB에서 원하는 정보를 검색하기 위한 쿼리를 만드는 전문가야. 사용자의 프로필을 바탕으로 사용자가 원하는 관광 장소를 벡터 DB에서 검색하기 위해 사용될 검색 쿼리를 한줄로 만들어줘.

음식 LLM 프롬포트 : 너는 사용자의 프로필을 참고하여 벡터 DB에서 원하는 정보를 검색하기 위한 쿼리를 만드는 전문가야. 사용자의 프로필을 바탕으로 사용자가 원하는 식당을 벡터 DB에서 검색하기 위해 사용될 검색 쿼리를 한줄로 만들어줘.

행사 LLM 프롬포트 : 너는 사용자의 프로필을 참고하여 벡터 DB에서 원하는 정보를 검색하기 위한 쿼리를 만드는 전문가야. 사용자의 프로필을 바탕으로 사용자의 상황에 맞는 행사를 추천를 벡터 DB에서 검색하기 위해 사용될 쿼리를 한줄로 만들어줘.

**↓**

각 에이전트마다 쿼리가 생성이 되었을꺼고, 각 쿼리를 임베딩하여 벡터 DB와 유사도 검색을 통하여 장소를 검색해서 정보를 가져옴

**↓**

각 에이전트가 가져온 정보를 각각 다음과 같은 배열에 담아둠

hotel [ ]

travel [ ]

food [ ]

event [ ]

**↓**

각각의 에이전트가 전달한 정보와, 사용자와의 대화를 통하여 수집된 사용자의 프로필 정보를 통합하여 최종 응답을 생성하는 에이전트에게 전달 (Solar-pro)

**↓**

응답 생성 LLM은 해당 정보를 가지고 사용자에게 일정을 추천

우리 시스템은 Langgraph로 하려고 하고, 저렇게 에이전트를 둘꺼야.

기존 코드는 Langchain으로 구현되어있을텐데, 위 가이드라인을 참고하여 코드를 수정해주었으면 좋겠어